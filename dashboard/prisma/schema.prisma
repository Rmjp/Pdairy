generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_URL")
}

model BreedingRecord {
  id         String   @id
  date       DateTime @db.Timestamptz(0)
  fatherName String
  calving    DateTime @db.Timestamptz(0)
  calfGender String
  calfWeight Float
  cowId      String?
  Cow        Cow?     @relation(fields: [cowId], references: [id])
}

model Cow {
  id             String           @id
  genetic        String
  birthdate      DateTime         @db.Timestamptz(0)
  weightAtBirth  Float
  fatherName     String
  fatherGenetic  String
  motherName     String
  motherGenetic  String
  name           String
  farmId         String
  BreedingRecord BreedingRecord[]
  Prediction     Json?
  Farm           Farm?            @relation(fields: [farmId], references: [id])
  MilkRecord     MilkRecord[]
}

model Farm {
  id    String @id
  name  String
  owner String
  Cow   Cow[]
}

model MilkRecord {
  id         Int      @id @default(autoincrement())
  recordedAt DateTime @db.Timestamptz(0)
  weight     Float
  cowId      String
  Cow        Cow      @relation(fields: [cowId], references: [id])
}